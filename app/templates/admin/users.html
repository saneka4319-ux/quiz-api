{% extends "admin/base.html" %}

{% block admin_content %}
<h3>üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ ({{ users|length }})</h3>

{% if users %}
  <div style="overflow-x: auto;">
    <table style="width: 100%; border-collapse: collapse; margin-top: 1rem;">
      <thead>
        <tr style="border-bottom: 2px solid #333;">
          <th style="text-align: left; padding: 0.75rem;">ID</th>
          <th style="text-align: left; padding: 0.75rem;">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</th>
          <th style="text-align: left; padding: 0.75rem;">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</th>
          <th style="text-align: left; padding: 0.75rem;">–¢–µ—Å—Ç–æ–≤</th>
          <th style="text-align: left; padding: 0.75rem;">–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
      </thead>
      <tbody>
        {% for user in users %}
          <tr style="border-bottom: 1px solid #333;">
            <td style="padding: 0.75rem;">{{ user.id }}</td>
            <td style="padding: 0.75rem;">
              <strong>{{ user.username }}</strong>
            </td>
            <td style="padding: 0.75rem;">{{ user.created_at.strftime('%d.%m.%Y %H:%M') }}</td>
            <td style="padding: 0.75rem;">{{ user.quizzes_count }}</td>
            <td style="padding: 0.75rem;">
              <form action="/admin/users/delete/{{ user.id }}" method="post" style="display: inline;" 
                    onsubmit="return confirm('–£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ¬´{{ user.username }}¬ª –∏ –≤—Å–µ –µ–≥–æ —Ç–µ—Å—Ç—ã?')">
                <button type="submit" class="btn" style="background: #f44336; padding: 0.3rem 0.6rem; font-size: 0.9rem;">–£–¥–∞–ª–∏—Ç—å</button>
              </form>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <p style="color: #888; margin-top: 1rem;">–ù–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
{% endif %}
{% endblock %}